{
  "sequence": [
    "party",
    "opening",
    "tutorial",
    "robot_play",
    "child_play",
    "child_play_challenge",
    "party"
  ],
  "opening": {
    "start": "tablet:zero_screen",
    "internal_clock": [
      "how_long:20"
    ],
    "transitions": [
      "tablet:zero_screen:child:zero_screen:1",
      "child:press_start_button:tablet:first_screen:1",
      "child:press_start_button:child:idle:1",
      "tablet:first_screen:robot:introduction:1",
      "robot:introduction:tablet:yes:1",
      "robot:introduction:robot:idle:1",
      "tablet:yes:child:yes:1",
      "tablet:yes:internal_clock:yes:1",
      "internal_clock:prompt_yes:robot:ask_again:1:done",
      "robot:ask_again:child:yes:1",
      "robot:ask_again:internal_clock:yes:1",
      "child:press_yes_button:robot:lets_play:1",
      "child:press_yes_button:internal_clock:stop:1",
      "robot:lets_play:internal_clock:stop:1",
      "robot:lets_play:interaction:end:1"
    ]
  },
  "tutorial": {
    "start": "robot:start_tutorial",
    "internal_clock": [
      "how_long:20"
    ],
    "transitions": [
      "robot:start_tutorial:tablet:disable_tablet:1:done",
      "tablet:disable_tablet:game:generate_selection:1:done",
      "game:generate_selection:tablet:selection_screen:1:x",
      "tablet:selection_screen:robot:selection_tutorial:1:x",
      "robot:selection_tutorial:robot:select_treasure:1",
      "robot:select_treasure:tablet:select_treasure:1:x:done",
      "child:press_treasure:game:tangram_selected:1:x",
      "game:tangram_selected:tablet:tangram_screen:1:x",
      "tablet:tangram_screen:hourglass:start:1",
      "hourglass:update:tablet:hourglass_update:1:x",
      "hourglass:finish:game:finish:1",
      "hourglass:finish:hourglass:stop:1",
      "tablet:tangram_screen:robot:tangram_tutorial:1:x",
      "robot:tangram_tutorial:robot:select_move:1:x",
      "robot:select_move:robot:explain_move:1:x",
      "robot:explain_move:tablet:change_pieces:1:x:done",
      "child:tangram_change:game:tangram_changed:1:x:done",
      "game:not_solved:tablet:not_solved:1:x",
      "tablet:not_solved:robot:select_move:1:x",
      "game:solved:tablet:solved:1:x",
      "tablet:solved:robot:win:1",
      "game:finish:tablet:finish:1:x",
      "tablet:finish:robot:lose:1",
      "robot:robot_win:robot:your_turn:1",
      "robot:robot_lose:robot:your_turn:1",
      "robot:your_turn:interaction:end:1"
    ]
  },
  "child_play": {
    "start": "child:start_play",
    "internal_clock": [
      "how_long:40"
    ],
    "transitions": [
      "child:start_play:tablet:enable_tablet:1",
      "tablet:enable_tablet:game:generate_selection:1",
      "game:generate_selection:tablet:selection_screen:1:x",
      "child:press_treasure:robot:child_selection:1:x",
      "child:press_treasure:game:tangram_selected:1:x",
      "game:tangram_selected:tablet:tangram_screen:1:x",
      "tablet:tangram_screen:hourglass:start:1",
      "hourglass:update:tablet:hourglass_update:1:x",
      "hourglass:finish:game:finish:1",
      "hourglass:finish:hourglass:stop:1",
      "child:tangram_change:game:tangram_changed:1:x",
      "game:not_solved:tablet:not_solved:1:x",
      "game:solved:tablet:solved:1:x",
      "tablet:solved:robot:child_win:1",
      "game:finish:tablet:finish:1:x",
      "tablet:finish:robot:child_lose:1",
      "robot:child_win:robot:my_turn:1",
      "robot:child_lose:robot:my_turn:1",
      "robot:my_turn:interaction:end:1"
    ]
  },
  "robot_play": {
    "start": "robot:start_play",
    "internal_clock": [
      "how_long:20"
    ],
    "transitions": [
      "robot:start_play:tablet:disable_tablet:1:done",
      "tablet:disable_tablet:game:generate_selection:1",
      "game:generate_selection:tablet:selection_screen:1:x",
      "tablet:selection_screen:robot:selection_explanation:1:x",
      "robot:selection_explanation:robot:select_treasure:1",
      "robot:select_treasure:tablet:select_treasure:1:x:done",
      "child:press_treasure:game:tangram_selected:1:x",
      "game:tangram_selected:tablet:tangram_screen:1:x",
      "tablet:tangram_screen:hourglass:start:1",
      "hourglass:update:tablet:hourglass_update:1:x",
      "hourglass:finish:game:finish:1",
      "hourglass:finish:hourglass:stop:1",
      "tablet:tangram_screen:robot:select_move:1:x",
      "robot:select_move:robot:explain_move:1:x",
      "robot:explain_move:tablet:change_pieces:1:x:done",
      "child:tangram_change:game:tangram_changed:1:x",
      "game:not_solved:tablet:not_solved:1:x",
      "tablet:not_solved:robot:select_move:1:x",
      "game:solved:tablet:solved:1:x",
      "tablet:solved:robot:robot_win:1",
      "game:finish:tablet:finish:1:x",
      "tablet:finish:robot:robot_lose:1",
      "robot:robot_win:robot:your_turn:1",
      "robot:robot_lose:robot:your_turn:1",
      "robot:your_turn:interaction:end:1"
    ]
  },
  "child_play_challenge": {
    "start": "child:start_play",
    "internal_clock": [
      "how_long:20"
    ],
    "transitions": [
      "child:start_play:tablet:enable_tablet:1",
      "tablet:enable_tablet:game:generate_selection:1:mark",
      "game:generate_selection:tablet:selection_screen:1:x",
      "tablet:selection_screen:robot:explain_challenge:1:done",
      "child:press_treasure:robot:child_selection:1:x",
      "child:press_treasure:game:tangram_selected:1:x",
      "game:tangram_selected:tablet:tangram_screen:1:x",
      "tablet:tangram_screen:hourglass:start:1",
      "hourglass:update:tablet:hourglass_update:1:x",
      "hourglass:finish:game:finish:1",
      "hourglass:finish:hourglass:stop:1",
      "child:tangram_change:game:tangram_changed:1:x",
      "game:not_solved:tablet:not_solved:1:x",
      "game:solved:tablet:solved:1:x",
      "tablet:solved:robot:child_win:1",
      "game:finish:tablet:finish:1:x",
      "tablet:finish:robot:child_lose:1",
      "robot:child_win:robot:my_turn:1",
      "robot:child_lose:robot:my_turn:1",
      "robot:my_turn:interaction:end:1"
    ]
  },
  "party": {
    "start": "robot:start_party",
    "internal_clock": [
      "how_long:20"
    ],
    "transitions": [
      "robot:start_party:tablet:party_screen:1:done",
      "tablet:party_screen:robot:conclusion:1",
      "robot:conclusion:interaction:end:1"
    ]
  }
}